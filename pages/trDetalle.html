<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle de Trámite</title>
    <link rel="stylesheet" type="text/css" href="../sources/bulma/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.15.4/js/all.js"></script>
    <link rel="stylesheet" type="text/css" href="../sources/cssTramites.css">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>
<body>

    <div class="container" x-data="detalleTramite()">
        <nav class="breadcrumb mt-4 px-3" aria-label="breadcrumbs">
            <ul>
                <li><a href="tramites.html">Inicio</a></li>
                <li><a :href="'trListados.html?cat=' + tramite.rubro" x-text="tramite.rubro"></a></li>
                <li class="is-active"><a href="#" x-text="tramite.nombre"></a></li>
            </ul>
        </nav>

        <div class="fade-in columns is-multiline px-3">
            <div class="column is-8">
                <div class="box border-verde" :class="areas[tramite.area].border">
                    <div class="tags">
                        <span class="tag is-light" :class="areas[tramite.area].color" x-text="tramite.area"></span>
                    </div>
                    <h1 class="title is-4" x-text="tramite.nombre"></h1>
                    
                    <hr>

                    <template x-if="tramite.tieneVariaciones">
                        <div class="mb-5">                            
                            <div class="tabs is-boxed is-small is-hidden-mobile">
                                <ul>
                                    <template x-for="tipo in tiposDisponibles" :key="tipo">
                                        <li :class="{ 'is-active': tabActiva === tipo }">
                                            <a @click="tabActiva = tipo" x-text="tipo"></a>
                                        </li>
                                    </template>
                                </ul>
                            </div>

                            <div class="field is-hidden-tablet">
                                <div class="control has-icons-left">
                                    <div class="select is-fullwidth is-link">
                                        <select x-model="tabActiva">
                                            <template x-for="tipo in tiposDisponibles" :key="tipo">
                                                <option :value="tipo" x-text="tipo"></option>
                                            </template>
                                        </select>
                                    </div>
                                    <div class="icon is-small is-left"><i class="fas fa-user"></i></div>
                                </div>
                            </div>
                        </div>
                    </template>

                    <div class="content">
                        <h3 class="title is-6">Descripción del Trámite</h3>
                        <p class="is-size-6" x-text="tramite.descripcion"></p>
                        
                        <h3 class="title is-6">
                            Requisitos <span x-show="tramite.tieneVariaciones" class="has-text-link" x-text="' - ' + tabActiva"></span>
                        </h3>
                        
                        <ul>
                            <template x-for="req in contenidoDinamico.requisitos" :key="req">
                                <li class="is-size-6" x-text="req"></li>
                            </template>
                        </ul>

                        <template x-if="contenidoDinamico.consideraciones">
                            <div class="block">
                                <hr>
                                <h3 class="title is-6">Consideraciones Especiales</h3>
                                <ul>
                                    <template x-for="cons in contenidoDinamico.consideraciones" :key="cons">
                                        <li class="is-size-6" x-text="cons"></li>
                                    </template>
                                </ul>
                            </div>
                        </template>
                    </div>
                </div>
            </div>

            <div class="column is-4">
                <div class="card">
                    <header class="card-header bg-azul">
                        <p class="card-header-title has-text-white">Información de Atención</p>
                    </header>
                    <div class="card-content">
                        <div class="block">
                            <p class="heading">Medio de Recepción</p>
                            <div class="subtitle is-6">
                                <i class="fas fa-map-marker-alt text-verde mr-2"></i> 
                                <template x-for="rec in contenidoDinamico.recepcion" :key="rec">
                                    <span x-text="rec"></span>
                                </template>
                            </div>
                        </div>

                        <div class="block">
                            <p class="heading">Horario de Atención</p>
                            <p class="subtitle is-6">
                                <i class="fas fa-clock text-verde mr-2"></i> 
                                <span x-text="tramite.horario"></span>
                            </p>
                        </div>

                        <template x-if="tramite.formato">
                            <div class="block">
                                <hr>
                                <p class="heading">Documentación</p>
                                <a :href="tramite.formato" class="button is-fullwidth is-success is-outlined" target="_blank">
                                    <span class="icon"><i class="fas fa-file-download"></i></span>
                                    <span>Descargar Formato Oficial</span>
                                </a>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../sources/datosTr.js"></script>   
    <script src="../sources/jsTramites.js"></script>
</body>
</html>